<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="module">
        import * as o3h from "/api/o3h.js";
  
        const cameraComponentConfig = new o3h.CameraComponentConfig();
        
        // disable the recording timer
        cameraComponentConfig.showRecordingUI = false;
        
        const runtime = o3h.Instance;
        const componentConfigurations = {"main" : cameraComponentConfig};
        const layout = await runtime.createLayout("Full Screen", componentConfigurations);
        const cameraComponent = layout.getComponent("main");
        const assetManager = runtime.getAssetManager();
        
        // the camera feed will now appear in the main layout element
        await layout.show();
        
        // now that the layout is visible we can show the module
        runtime.ready(async () => {
        
            // start recording what appear in the camera feed
            cameraComponent.startRecording();
        
            // wait for some amount of time
        
            // stop the recording and get a reference to the mp4 file that was created
            const videoAsset = await cameraComponent.stopRecording();
        
            // save the camera recording to the list of assets created by this module
            assetManager.addToOutput("cameraRecording", videoAsset);
        });
    </script>
    <div class="main"></div>
</body>
</html>